<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Images & copyable command/code blocks — sonicsrc</title>
  <link rel="stylesheet" href="/assets/style.css">
</head>

<body>
  <!doctype html>
  <html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Images & copyable command/code blocks - sonicsrc</title>

    <style>
      /* Basic readable typography */
      body {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        line-height: 1.6;
        margin: 2rem;
        color: #111;
      }

      h1,
      h2,
      h3 {
        line-height: 1.2;
      }

      a {
        color: #0366d6;
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      /* Images and figure */
      img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      figure {
        margin: 1.25rem 0;
      }

      figcaption {
        font-size: .9rem;
        color: #555;
        margin-top: .25rem;
      }

      /* Code styling */
      pre {
        background: #0b1220;
        color: #e6edf3;
        padding: 1rem;
        border-radius: .5rem;
        overflow: auto;
        position: relative;
      }

      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
        font-size: .95rem;
      }

      pre code {
        white-space: pre;
        display: block;
      }

      /* Copy button */
      .copy-btn {
        position: absolute;
        top: 8px;
        right: 8px;
        background: rgba(255, 255, 255, 0.12);
        color: white;
        border: none;
        padding: .25rem .5rem;
        border-radius: 6px;
        font-size: .85rem;
        cursor: pointer;
        backdrop-filter: blur(4px);
      }

      .copy-btn:active {
        transform: translateY(1px);
      }

      /* Make command blocks more compact */
      pre.cmd {
        padding-top: 1.1rem;
      }

      /* Optional: style inline code */
      p code,
      li code {
        background: #f6f8fa;
        padding: .15rem .3rem;
        border-radius: 4px;
        color: #111;
      }
    </style>
  </head>

  <body>
    <article>
      <header>
        <h1>Images & copyable command/code blocks</h1>
        <div><small>2025-11-05</small></div>
        <hr />
      </header>

      <!-- NOTE: content contains HTML produced by python-markdown -->
      <section>
        <h1>Images &amp; Copyable Blocks</h1>
<p>This post demonstrates an image, a captioned figure, a copy-friendly command block, and a syntax-highlighted code block.</p>
<h2>Image via Markdown</h2>
<p>You can reference images stored in <code>assets/images/</code>:</p>
<p><img alt="Mock screenshot" src="/assets/images/mock-screenshot.png" title="Mock screenshot" /></p>
<h2>Image with caption and sizing (HTML figure)</h2>
<p>If you want a caption or to control width, use HTML:</p>
<figure>
  <img src="/assets/images/linux-hardening-flow.svg" alt="Linux hardening flow" width="720"/>
  <figcaption>Figure: Linux hardening flow (SVG)</figcaption>
</figure>

<blockquote>
<p>Tip: use root-relative paths (<code>/assets/images/...</code>) so the image works the same locally and on GitHub Pages.</p>
</blockquote>
<h2>Copyable shell commands</h2>
<p>Run these in a terminal. The copy button will remove the leading <code>$</code> characters so you get runnable lines:</p>
<p>```bash
$ ./newpost.sh "My New Post"
$ git add .
$ git commit -m "Add post with image"
$ git push</p>
      </section>

      <footer style="margin-top:2rem;">
        <hr />
        <p>Published with ♥ — sonicsrc</p>
      </footer>
    </article>

    <script>
      // Add copy buttons to all <pre><code> blocks.
      // If code block's language is bash/sh/zsh/console, the copy operation strips leading shell prompts like "$ ".
      (function () {
        function isShellLanguage(className) {
          return /\blanguage-(bash|sh|zsh|console|shell)\b/.test(className || '');
        }

        document.querySelectorAll('pre > code').forEach(function (code) {
          var pre = code.parentNode;
          // Mark pre as a command block if language looks like shell
          if (isShellLanguage(code.className)) {
            pre.classList.add('cmd');
          }

          // create button
          var btn = document.createElement('button');
          btn.className = 'copy-btn';
          btn.type = 'button';
          btn.textContent = 'Copy';

          // copy handler
          btn.addEventListener('click', function () {
            var text = code.innerText.replace(/\r\n/g, '\n'); // normalize CRLF

            // if this is a shell block, strip leading `$ ` from each line for ease of paste.
            if (isShellLanguage(code.className)) {
              text = text.split('\n').map(function (line) {
                return line.replace(/^\s*\$\s?/, '');
              }).join('\n');
            }

            navigator.clipboard?.writeText(text).then(function () {
              btn.textContent = 'Copied';
              setTimeout(function () { btn.textContent = 'Copy'; }, 2000);
            }).catch(function (err) {
              console.error('Copy failed', err);
              // fallback: select text for user
              try {
                var range = document.createRange();
                range.selectNodeContents(code);
                var sel = window.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);
              } catch (e) { }
            });
          });

          // attach button to pre and ensure pre is positioned relatively (CSS covers it)
          pre.appendChild(btn);
        });
      })();
    </script>
    <main class="container">
      <article class="intro">
        <h2>Images & copyable command/code blocks</h2>
        <p class="meta">Published: 2025-11-05</p>
        <div class="post-content"><h1>Images &amp; Copyable Blocks</h1>
<p>This post demonstrates an image, a captioned figure, a copy-friendly command block, and a syntax-highlighted code block.</p>
<h2>Image via Markdown</h2>
<p>You can reference images stored in <code>assets/images/</code>:</p>
<p><img alt="Mock screenshot" src="/assets/images/mock-screenshot.png" title="Mock screenshot" /></p>
<h2>Image with caption and sizing (HTML figure)</h2>
<p>If you want a caption or to control width, use HTML:</p>
<figure>
  <img src="/assets/images/linux-hardening-flow.svg" alt="Linux hardening flow" width="720"/>
  <figcaption>Figure: Linux hardening flow (SVG)</figcaption>
</figure>

<blockquote>
<p>Tip: use root-relative paths (<code>/assets/images/...</code>) so the image works the same locally and on GitHub Pages.</p>
</blockquote>
<h2>Copyable shell commands</h2>
<p>Run these in a terminal. The copy button will remove the leading <code>$</code> characters so you get runnable lines:</p>
<p>```bash
$ ./newpost.sh "My New Post"
$ git add .
$ git commit -m "Add post with image"
$ git push</p></div>
      </article>
      <p><a href="/posts/">← All posts</a></p>
    </main>
    <footer class="footer"><small>© sonicsrc</small></footer>
  </body>

  </html>